$(function(){$.ajax({url:"dat/search.php",type:"POST",dataType:"json",data:{}}).done(function(i){console.log("success"),$("#search").on("input",function(s){s.preventDefault(),$("#display").children("div").remove(),$.each(i,function(i,s){0===s.indexOf($("#search").val())&&($("#display").css("display","block"),$("#display").append("<div>").children("div:last-child").html("<span>"+s+"</span>"))});var a=$("#display").children("div").length;1===a&&($("#search").val($("#display").children("div").text()),$("#display").css("display","none"),$("#display").children("div").remove()),0===a&&($("#display").css("display","block"),$("#display").append("<div>").children("div:last-child").html("<span>您输入的内容不存在哦！</span>")),""===$("#search").val()&&($("#display").css("display","none"),$("#display").children("div").remove()),$("#display").children("div").click(function(){$("#display").children("div").remove(),$("#search").attr("value",""),$("#search").val($(this).text()),$("#display").css("display","none"),$("#search").css("color","#fff")}),$("#display").children("div").hover(function(){$(this).find("span").css("color","#ff0")},function(){$(this).find("span").css("color","white")})}),$("#searchbtn").on("click",function(){window.top.location.assign("aa.html#"+$("#search").val())})}).fail(function(){console.log("error")}).always(function(){console.log("complete")})});